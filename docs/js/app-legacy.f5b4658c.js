(function(){"use strict";var e={3987:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var a=n(144),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary"}},[n("a",{attrs:{href:"https://whitenightawa.github.io/Aeroplane-Chess/"}},[n("v-icon",{attrs:{"x-large":""}},[e._v("mdi-chess-pawn")])],1),n("a",{attrs:{href:"https://whitenightawa.github.io/Aeroplane-Chess/"}},[n("h1",{staticClass:"white--text"},[e._v("Aeroplane Chess")])]),n("v-spacer"),n("v-subheader",{staticClass:"white--text"},[e._v(" Your client ID: "),null!==e.clientId?n("code",[e._v(e._s(e.clientId))]):n("code",[e._v("Getting Id...")])]),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeTheme()}}},[e.$vuetify.theme.dark?n("v-icon",{staticClass:"white--text"},[e._v("mdi-white-balance-sunny")]):n("v-icon",{staticClass:"white--text"},[e._v("mdi-weather-night")])],1)],1),n("v-main",[n("v-tabs-items",{staticClass:"fill-height",model:{value:e.page,callback:function(t){e.page=t},expression:"page"}},[n("v-tab-item",{staticClass:"fill-height",attrs:{value:"select"}},[n("v-container",{staticClass:"fill-height justify-space-around flex-column"},[n("v-card",{staticClass:"pa-8 justify-center align-center flex-column",staticStyle:{width:"100%",height:"45%",display:"flex"}},[n("h1",[e._v("Create new Game")]),n("v-btn",{on:{click:function(t){e.createGame(),e.page="create"}}},[e._v("Create")])],1),n("v-card",{staticClass:"pa-8 justify-center align-center flex-column",staticStyle:{width:"100%",height:"45%",display:"flex"}},[n("v-spacer"),n("h1",[e._v("Join Game")]),n("v-text-field",{staticStyle:{width:"100%"},attrs:{height:"50px",label:"Game ID",type:"password"},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;""!==e.inputGameId&&e.join()}},model:{value:e.inputGameId,callback:function(t){e.inputGameId=t},expression:"inputGameId"}}),n("v-btn",{attrs:{disabled:""===e.inputGameId},on:{click:function(t){return e.join()}}},[e._v("JOIN")]),n("v-spacer")],1)],1)],1),null!==e.game?n("v-tab-item",{staticClass:"fill-height",attrs:{value:"create"}},[n("v-container",{staticClass:"fill-height justify-center flex-column"},[n("v-card",{staticClass:"pa-4 ma-4",attrs:{"min-width":"70%"}},[n("v-alert",{attrs:{type:"info",prominent:""}},[e._v(" Your game id will be "),null!==e.game?n("code",{staticStyle:{"user-select":"none"}},[n("span",{class:{white:!e.showGameId}},[e._v(e._s(e.game.id))])]):e._e(),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.showGameId=!e.showGameId}}},[e.showGameId?n("v-icon",[e._v("mdi-eye-off")]):n("v-icon",[e._v("mdi-eye")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.copy(e.urlHost+"?joinId="+e.game.id)}}},[n("v-icon",[e._v("mdi-content-copy")])],1)],1),n("v-alert",{staticClass:"mb-0"},[n("v-text-field",{attrs:{label:"Your name","hide-details":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateName()}},scopedSlots:e._u([{key:"append-outer",fn:function(){return[n("v-btn",{attrs:{disabled:e.orgName===e.editName,icon:""},on:{click:function(t){return e.updateName()}}},[n("v-icon",[e._v(" mdi-content-save ")])],1)]},proxy:!0}],null,!1,1496698030),model:{value:e.editName,callback:function(t){e.editName=t},expression:"editName"}})],1),n("GameSettings",{attrs:{g:e.game,c:e.myColor},on:{"update:g":function(t){e.game=t},"update:c":function(t){e.myColor=t}}})],1)],1)],1):e._e(),null!==e.game?n("v-tab-item",{staticClass:"fill-height",attrs:{value:"wait"}},[null!==e.game?n("v-container",{staticClass:"fill-height flex-column justify-center align-center"},[n("LoaderXLVI",{staticClass:"ma-6"}),n("h2",[e._v("Waiting the host to start")]),n("h6",{staticClass:"grey--text"},[e._v("Reload this page if you want to quit.")]),n("v-card",{staticClass:"pa-4 ma-4"},[n("v-alert",{attrs:{type:"info",prominent:""}},[e._v(" Your game id will be "),null!==e.game?n("code",{staticStyle:{"user-select":"none"}},[n("span",{class:{white:!e.showGameId}},[e._v(e._s(e.game.id))])]):e._e(),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.showGameId=!e.showGameId}}},[e.showGameId?n("v-icon",[e._v("mdi-eye-off")]):n("v-icon",[e._v("mdi-eye")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.copy(e.urlHost+"?joinId="+e.game.id)}}},[n("v-icon",[e._v("mdi-content-copy")])],1)],1),n("v-alert",[n("v-text-field",{attrs:{label:"Your name"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateName()}},scopedSlots:e._u([{key:"append-outer",fn:function(){return[n("v-btn",{attrs:{disabled:e.orgName===e.editName,icon:""},on:{click:function(t){return e.updateName()}}},[n("v-icon",[e._v(" mdi-content-save ")])],1)]},proxy:!0}],null,!1,1496698030),model:{value:e.editName,callback:function(t){e.editName=t},expression:"editName"}})],1),e.game.userSelectColor?n("v-alert",{staticClass:"justify-center"},[n("v-row",{staticClass:"text-center"},[n("h3",[e._v("The host available you to select your color: ")])]),n("v-row",[n("v-spacer"),n("ColorPicker",{attrs:{c:e.myColor},on:{"update:c":function(t){e.myColor=t}}}),n("v-spacer")],1)],1):e._e()],1)],1):e._e()],1):e._e()],1),n("v-dialog",{model:{value:e.errDia,callback:function(t){e.errDia=t},expression:"errDia"}},[n("v-card",{staticClass:"fill-height",attrs:{color:"error"}},[n("v-card-title",{staticClass:"white--text text-center"},[e._v(" "+e._s(e.err)+" ")])],1)],1),null!==e.game?n("v-card",{staticClass:"userComp",staticStyle:{"z-index":"999"}},[n("v-expansion-panels",{attrs:{accordion:"",multiple:""}},[n("v-expansion-panel",[n("v-expansion-panel-header",[e._v(" Players ")]),n("v-divider"),n("v-expansion-panel-content",[n("v-list",{attrs:{dense:""}},e._l(e.game.clients,(function(t){return n("v-list-item",{key:t.id},[n("v-list-item-content",[n("v-list-item-title",[t.host?n("v-icon",{attrs:{color:"yellow"}},[e._v(" mdi-crown ")]):e._e(),e._v(e._s(t.name))],1),n("v-list-item-subtitle",[e._v(e._s(t.clientId))])],1),n("v-list-item-action",[t.host?e._e():n("v-btn",{attrs:{icon:"",disabled:!e.game.clients.filter((function(t){return t.clientId===e.clientId}))[0].host},on:{click:function(n){return e.kick(t.clientId)}}},[n("v-icon",[e._v("mdi-account-remove")])],1)],1)],1)})),1)],1)],1),n("ChatComp",{attrs:{m:e.messages,gameId:e.game.id,client:e.clientId},on:{"update:m":function(t){e.messages=t}}})],1)],1):e._e(),n("v-snackbar",{attrs:{color:e.snackbarColor},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{icon:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",a,!1),[n("v-icon",[e._v("mdi-close")])],1)]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[n("v-icon",[e._v("mdi-"+e._s(e.snackbarIcon))]),e._v(" "+e._s(e.snackbarMessage)+" ")],1),n("v-fade-transition",[null===e.clientId?n("v-overlay",{attrs:{opacity:.75,value:e.linking}},[n("v-row",{staticClass:"text-center justify-center align-center"},[n("h1",{staticClass:"text-center"},[e._v("Connecting to the server...")])]),n("v-row",{staticStyle:{height:"1em"}}),n("v-row",{staticClass:"text-center justify-center align-center"},[n("LoaderXLVI")],1),n("v-row",{staticStyle:{height:"1em"}}),n("v-row",{staticClass:"text-center justify-center align-center"},[n("v-subheader",[e._v(" This may took a few seconds "),n("br"),e._v(" Try to reload this page is you stuck in this for > 1 minuses ")])],1)],1):e._e()],1)],1)],1)},i=[],o=n(8932),r=(n(9600),n(1249),n(1539),n(9714),n(8862),n(8559),n(8783),n(3948),n(1637),n(4916),n(4765),n(8309),n(7327),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-expansion-panel",[n("v-expansion-panel-header",[e._v(" Chat ")]),n("v-divider"),n("v-expansion-panel-content",[n("v-container",{staticClass:"mt-4"},[n("v-row",{staticClass:"mb-4"},[n("v-card",{staticClass:"pa-3",staticStyle:{width:"100%"}},[n("v-row",[n("v-virtual-scroll",{attrs:{items:e.messages,height:"300","item-height":"64",id:"chatBox","emit-update":!0},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item;return[n("v-list-item",[n("v-list-item-content",{class:{"text-right":a.id===e.clientId}},[n("h4",[e._v(e._s(a.name)),a.id===e.clientId?n("span",[e._v("(me)")]):e._e()]),n("p",{staticStyle:{overflow:"inherit"}},[e._v(" "+e._s(a.message)+" ")])])],1)]}}])})],1),n("v-row",[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.scrollDown()}}},[n("v-icon",[e._v(" mdi-chevron-down ")])],1)],1)],1)],1),n("v-row",[n("v-text-field",{attrs:{outlined:""},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;""!==e.message&&e.sendMessage()}},scopedSlots:e._u([{key:"append-outer",fn:function(){return[n("v-btn",{attrs:{disabled:""===e.message,icon:""},on:{click:function(t){return e.sendMessage()}}},[n("v-icon",[e._v(" mdi-send ")])],1)]},proxy:!0}]),model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1)],1)],1)],1)}),l=[],c={name:"ChatComp",props:{client:String,gameId:String,m:Array},data:function(){return{message:"",ws:this.$root.ws,clientId:this.client}},methods:{scrollDown:function(){var e=this.$el.querySelector("#chatBox");e.scrollTop=e.scrollHeight},sendMessage:function(){var e={method:"sendMessage",id:this.clientId,message:this.message,gameId:this.gameId};this.ws.send(JSON.stringify(e)),this.message=""}},computed:{messages:{get:function(){return this.m},set:function(e){this.$emit("update:m",e)}}},mounted:function(){}},u=c,d=n(1001),m=n(3453),v=n.n(m),p=n(3150),h=n(3237),g=n(9846),f=n(1418),b=n(6845),y=n(2443),k=n(1192),w=n(6428),_=n(7620),C=n(1421),x=n(2877),S=n(9762),I=n(5978),Z=n(5683),V=(0,d.Z)(u,r,l,!1,null,"6b8a3174",null),N=V.exports;v()(V,{VBtn:p.Z,VCard:h.Z,VContainer:g.Z,VDivider:f.Z,VExpansionPanel:b.Z,VExpansionPanelContent:y.Z,VExpansionPanelHeader:k.Z,VIcon:w.Z,VListItem:_.Z,VListItemContent:C.km,VRow:x.Z,VSpacer:S.Z,VTextField:I.Z,VVirtualScroll:Z.Z});var L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-expansion-panels",[n("v-expansion-panel",{staticClass:"pa-4 ma-4 mt-0 pt-0 mb-0"},[n("v-expansion-panel-header",[e._v(" Game Settings ")]),n("v-divider"),n("v-expansion-panel-content",{},[n("v-form",{staticClass:"ma-3"},[n("v-row",[n("v-col",[n("v-select",{attrs:{items:Object.keys(e.settings.games),"item-text":"name","item-value":"id",label:"Game",filled:"","hide-details":""},model:{value:e.settings.game,callback:function(t){e.$set(e.settings,"game",t)},expression:"settings.game"}})],1)],1),void 0!==e.settings.games[e.settings.game]?n("v-row",[n("v-col",[n("v-row",{staticClass:"align-center"},[n("v-col",{attrs:{cols:"4"}},[n("v-select",{attrs:{label:"Player Numbers",items:e.settings.games[e.settings.game].players,filled:"","hide-details":""},on:{change:function(t){return e.editPlayerNumber()}},model:{value:e.settings.playerNumbers,callback:function(t){e.$set(e.settings,"playerNumbers",t)},expression:"settings.playerNumbers"}})],1),n("v-col",[e.settings.userSelectColor?n("v-row",{staticClass:"justify-space-around"},[n("ColorPicker",{staticClass:"justify-center text-center",attrs:{c:e.myColor},on:{"update:c":function(t){e.myColor=t}}})],1):n("v-row",{staticClass:"justify-space-around"},e._l(e.settings.playerNumbers,(function(t){return n("ColorPicker",{key:t,staticClass:"justify-center text-center",attrs:{c:e.settings.colors[t-1]},on:{"update:c":function(n){return e.$set(e.settings.colors,t-1,n)}}})})),1)],1),n("v-col",{attrs:{cols:"1"}},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[n("span",e._g(e._b({},"span",s,!1),a),[n("v-checkbox",{on:{click:e.updateUserSelectColor},model:{value:e.settings.userSelectColor,callback:function(t){e.$set(e.settings,"userSelectColor",t)},expression:"settings.userSelectColor"}})],1)]}}],null,!1,836067326)},[n("span",[e._v("Able User to select their color")])])],1)],1),n("v-row",{staticClass:"align-end"},[e._l(6,(function(t){return n("v-col",{key:t},[n("v-checkbox",{attrs:{label:t.toString(),value:t,"hide-details":""},model:{value:e.settings.moves,callback:function(t){e.$set(e.settings,"moves",t)},expression:"settings.moves"}})],1)})),n("v-col",[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[n("v-icon",e._g(e._b({attrs:{dark:""}},"v-icon",s,!1),a),[e._v(" mdi-help-circle-outline ")])]}}],null,!1,2873825835)},[n("span",[e._v("Step of move can one of the plane from base.")])])],1)],2),n("v-row",{staticClass:"align-center"},[n("v-col",{attrs:{cols:"1"}},[n("v-switch",{attrs:{"hide-details":""},model:{value:e.settings.timeLimited,callback:function(t){e.$set(e.settings,"timeLimited",t)},expression:"settings.timeLimited"}})],1),n("v-col",{attrs:{cols:"5"}},[n("v-text-field",{attrs:{disabled:!e.settings.timeLimited,"hide-details":"",label:"Time limit of every rounds (s)",type:"number"},model:{value:e.settings.timeLimitedNumber,callback:function(t){e.$set(e.settings,"timeLimitedNumber",t)},expression:"settings.timeLimitedNumber"}})],1),n("v-col",{attrs:{cols:"1"}},[n("v-switch",{attrs:{"hide-details":""},model:{value:e.settings.wholeTimeLimited,callback:function(t){e.$set(e.settings,"wholeTimeLimited",t)},expression:"settings.wholeTimeLimited"}})],1),n("v-col",{attrs:{cols:"5"}},[n("v-text-field",{attrs:{disabled:!e.settings.wholeTimeLimited,"hide-details":"",label:"Time limit of the whole game (min)",type:"number"},model:{value:e.settings.wholeTimeLimitedNumber,callback:function(t){e.$set(e.settings,"wholeTimeLimitedNumber",t)},expression:"settings.wholeTimeLimitedNumber"}})],1)],1),n("v-row",{staticClass:"align-center justify-space-around"},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[n("span",e._g(e._b({},"span",s,!1),a),[n("v-checkbox",{model:{value:e.settings.ableChat,callback:function(t){e.$set(e.settings,"ableChat",t)},expression:"settings.ableChat"}})],1)]}}],null,!1,4156787614)},[n("span",[e._v("Able Chat")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[n("span",e._g(e._b({},"span",s,!1),a),[n("v-checkbox",{model:{value:e.settings.ableSkip,callback:function(t){e.$set(e.settings,"ableSkip",t)},expression:"settings.ableSkip"}})],1)]}}],null,!1,2299265441)},[n("span",[e._v("Able Skip")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[n("span",e._g(e._b({},"span",s,!1),a),[n("v-checkbox",{model:{value:e.settings.ableFly,callback:function(t){e.$set(e.settings,"ableFly",t)},expression:"settings.ableFly"}})],1)]}}],null,!1,480876531)},[n("span",[e._v("Able Fly")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[n("span",e._g(e._b({},"span",s,!1),a),[n("v-checkbox",{model:{value:e.settings.ableOverLuckyPunish,callback:function(t){e.$set(e.settings,"ableOverLuckyPunish",t)},expression:"settings.ableOverLuckyPunish"}})],1)]}}],null,!1,2486645279)},[n("span",[e._v("Able Over Lucky Punish")])])],1)],1)],1):e._e()],1)],1)],1),n("v-btn",{staticClass:"ma-4",attrs:{disabled:e.game.clients.length<2||""===e.settings.game,"x-large":"",color:"success"}},[n("v-icon",[e._v("mdi-play")]),e._v(" Start Game! ")],1)],1)},j=[],$=(n(9653),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{class:{disabled:e.disabled},attrs:{top:"","nudge-bottom":"98","nudge-left":"16","close-on-content-click":!1,disabled:e.disabled},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("div",e._g({style:e.swatchStyle},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-card",[n("v-card-text",{staticClass:"pa-0"},[n("v-color-picker",{attrs:{flat:""},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)],1)],1)}),O=[],T={name:"ColorPicker",data:function(){return{menu:!1,disabled:this.d}},props:{c:String,d:{type:Boolean,default:!1}},computed:{color:{get:function(){return this.c},set:function(e){this.$emit("update:c",e)}},swatchStyle:function(){return{backgroundColor:this.color,cursor:"pointer",height:"30px",width:"30px",borderRadius:this.menu?"50%":"4px",transition:"border-radius 200ms ease-in-out"}}}},P=T,G=n(7118),E=n(9593),D=n(1152),M=(0,d.Z)(P,$,O,!1,null,"2b7de190",null),A=M.exports;v()(M,{VCard:h.Z,VCardText:G.ZB,VColorPicker:E.Z,VMenu:D.Z});var J={name:"GameSettings",components:{ColorPicker:A},props:{g:Object,c:String,pN:Number},data:function(){return{settings:{games:{AeroplaneChess:{id:"AeroplaneChess",name:"Aeroplane Chess",players:[2,3,4]}},game:"",colors:["#ffdd00","#1976D2","#ee0c0c","#55AA00"],moves:[2,4,6],timeLimited:!1,timeLimitedNumber:30,wholeTimeLimited:!1,wholeTimeLimitedNumber:30,ableChat:!0,ableSkip:!1,ableFly:!0,ableOverLuckyPunish:!0,userSelectColor:!1,playerNumbers:4}}},computed:{game:{get:function(){return this.g},set:function(e){this.$emit("update:g",e)}},myColor:{get:function(){return this.c},set:function(e){this.$emit("update:c",e)}}},methods:{updateUserSelectColor:function(){var e={method:"updateUserSelectColor",gameId:this.game.id,able:this.settings.userSelectColor};this.$root.ws.send(JSON.stringify(e))},editPlayerNumber:function(){var e={method:"updatePlayerNumber",newNumber:this.settings.playerNumbers,gameId:this.game.id};this.$root.ws.send(JSON.stringify(e))},ready:function(){var e={method:"ready",settings:this.settings,gameId:this.game.id};this.$root.ws.send(JSON.stringify(e))}}},H=J,F=n(593),B=n(2102),R=n(5630),U=n(6232),Y=n(8216),X=n(1328),q=n(9330),W=(0,d.Z)(H,L,j,!1,null,"3a9f5fcc",null),z=W.exports;v()(W,{VBtn:p.Z,VCheckbox:F.Z,VCol:B.Z,VDivider:f.Z,VExpansionPanel:b.Z,VExpansionPanelContent:y.Z,VExpansionPanelHeader:k.Z,VExpansionPanels:R.Z,VForm:U.Z,VIcon:w.Z,VRow:x.Z,VSelect:Y.Z,VSwitch:X.Z,VTextField:I.Z,VTooltip:q.Z});var K=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Q=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c"},[n("div",{staticClass:"box1"}),n("div",{staticClass:"box2"}),n("div",{staticClass:"box3"})])}],ee={name:"LoaderXLVI"},te=ee,ne=(0,d.Z)(te,K,Q,!1,null,"1fa0bcaa",null),ae=ne.exports,se={name:"App",components:{ChatComp:N,GameSettings:z,ColorPicker:A,LoaderXLVI:ae},data:function(){return{clientId:null,ws:this.$root.ws,game:null,errDia:!1,err:"",page:"select",showGameId:!1,inputGameId:"",sendJoin:!1,editName:"",orgName:"",message:"",snackbar:!1,snackbarColor:"success",snackbarMessage:"test",snackbarIcon:"check",messages:[],urlHost:document.location.origin+document.location.pathname,myColor:"#"+this.genRanHex(6),linking:!0}},methods:{genRanHex:function(e){return(0,o.Z)(Array(e)).map((function(){return Math.floor(16*Math.random()).toString(16)})).join("")},changeTheme:function(){this.$vuetify.theme.dark=!this.$vuetify.theme.dark,window.localStorage.setItem("isDark",this.$vuetify.theme.dark.toString())},updateName:function(){var e={clientId:this.clientId,method:"updateName",name:this.editName,gameId:this.game.id};this.ws.send(JSON.stringify(e))},createGame:function(){var e={method:"create",clientId:this.clientId};this.ws.send(JSON.stringify(e))},copy:function(e){navigator.clipboard.writeText(e)},join:function(){var e={method:"join",clientId:this.clientId,gameId:this.inputGameId};this.ws.send(JSON.stringify(e)),this.sendJoin=!0},kick:function(e){var t={method:"kick",clientId:e,gameId:this.game.id};this.ws.send(JSON.stringify(t))},scrollDown:function(){var e=this.$el.querySelector("#chatBox");e.scrollTop=e.scrollHeight}},mounted:function(){var e=this,t=window.localStorage.getItem("isDark");null===t?(t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,window.localStorage.setItem("isDark",t.toString()),this.$vuetify.theme.dark=t):this.$vuetify.theme.dark="true"===t,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(n){t=!n.matches,window.localStorage.setItem("isDark",t.toString()),e.$vuetify.theme.dark="true"===t})),this.ws.onmessage=function(t){var n=JSON.parse(t.data);if(console.log(n),"connect"===n.method){console.log(n.clientId),e.clientId=n.clientId,e.snackbarMessage="Connected to ws server!",e.snackbarColor="success",e.snackbar=!0;var a=Object.fromEntries(new URLSearchParams(window.location.search));console.log(a),void 0!==a.joinId&&(e.inputGameId=a.joinId,e.join(),window.history.replaceState({},document.title,"/"))}"create"===n.method&&(console.log(n.game),e.game=n.game,e.editName=e.game.clients.filter((function(t){return t.clientId===e.clientId}))[0].name,e.orgName=e.editName,e.snackbarMessage="Successfully created a new game!",e.snackbarColor="success",e.snackbar=!0),"join"===n.method&&(e.game=n.game,e.sendJoin?(e.page="wait",e.sendJoin=!1,e.editName=n.name,e.orgName=n.name):(e.snackbarIcon="plus",e.snackbarMessage="".concat(n.name," join this Game!"),e.snackbarColor="success",e.snackbar=!0)),"updateName"===n.method&&(e.game=n.game,e.editName===n.name&&(e.editName=n.name,e.orgName=e.editName)),"kick"===n.method&&(n.clientId===e.clientId?(e.err="You has been kicked by the Host!",e.errDia=!0,e.page="select",e.game=null):(e.game=n.game,e.snackbarIcon="karate",e.snackbarColor="error",e.snackbarMessage="".concat(n.name," has been kick by the Host!"),e.snackbar=!0)),"left"===n.method&&(e.game=n.game,e.snackbarIcon="exit-run",e.snackbarColor="error",e.snackbarMessage="".concat(n.name," has left this game!"),e.snackbar=!0),"sendMessage"===n.method&&(delete n.method,e.messages.push(n),setTimeout((function(){e.scrollDown()}),100)),"joinError"===n.method&&(e.err=n.error,e.errDia=!0,window.history.replaceState(null,null," ")),"updateUserSelectColor"===n.method&&(e.game=n.game),"close"===n.method&&(e.err="This game is closed by the host",e.errDia=!0,e.page="select",e.game=null),"updatePlayerNumber"===n.method&&(e.game=n.game)}}},ie=se,oe=n(1234),re=n(7524),le=n(9439),ce=n(6662),ue=n(5827),de=n(6816),me=n(3099),ve=n(7877),pe=n(1058),he=n(3202),ge=n(5533),fe=n(1759),be=n(1954),ye=(0,d.Z)(ie,s,i,!1,null,null,null),ke=ye.exports;v()(ye,{VAlert:oe.Z,VApp:re.Z,VAppBar:le.Z,VBtn:p.Z,VCard:h.Z,VCardTitle:G.EB,VContainer:g.Z,VDialog:ce.Z,VDivider:f.Z,VExpansionPanel:b.Z,VExpansionPanelContent:y.Z,VExpansionPanelHeader:k.Z,VExpansionPanels:R.Z,VFadeTransition:ue.Z5,VIcon:w.Z,VList:de.Z,VListItem:_.Z,VListItemAction:me.Z,VListItemContent:C.km,VListItemSubtitle:C.oZ,VListItemTitle:C.V9,VMain:ve.Z,VOverlay:pe.Z,VRow:x.Z,VSnackbar:he.Z,VSpacer:S.Z,VSubheader:ge.Z,VTabItem:fe.Z,VTabsItems:be.Z,VTextField:I.Z});var we=n(6800);a.Z.use(we.Z);var _e=new we.Z({});a.Z.config.productionTip=!1,new a.Z({vuetify:_e,render:function(e){return e(ke)},data:function(){return{ws:new WebSocket("wss://desert-smart-apology.glitch.me/")}}}).$mount("#app")}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,a,s,i){if(!a){var o=1/0;for(u=0;u<e.length;u++){a=e[u][0],s=e[u][1],i=e[u][2];for(var r=!0,l=0;l<a.length;l++)(!1&i||o>=i)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(r=!1,i<o&&(o=i));if(r){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,s,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,i,o=a[0],r=a[1],l=a[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(l)var u=l(n)}for(t&&t(a);c<o.length;c++)i=o[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},a=self["webpackChunkhtml"]=self["webpackChunkhtml"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(3987)}));a=n.O(a)})();
//# sourceMappingURL=app-legacy.f5b4658c.js.map